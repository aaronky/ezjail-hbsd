.TH ezjail 5
.SH NAME
ezjail \- A simple jail setup framework
.SH SYNOPSIS
EZJAIL_PREFIX/etc/rc.d/ezjail.sh
.SH DESCRIPTION
The ezjail framework provides a simple way to create many virtual FreeBSD 
servers by using FreeBSD's jail system. It requires little administration 
effort and aims for minimum system resource usage.

If you are not familiar with the FreeBSD jail concept, please refer to 
jail(8) before continuing.
.SH OVERVIEW
One \fIbase jail\fR is filled with most userland binaries and libraries and
then mounted read only into a number of stripped down jails via
.B mount_nullfs(8)\fR - thus saving lots of inodes and memory resources.
.SH INVOCATION
The ezjail script \fBEZJAIL_PREFIX/etc/rc.d/ezjail.sh\fR takes parameters \fIstart,
startcrypto, restart\fR and \fIstop\fR. It may be passed an additional list of
jails. If no jail name is specified (usually when the script is called by
rc.local at boot and shutdown time), all jails in ezjail's scope, except crypto
image jails (or jails marked as blocking), are started/stopped. To start
all crytpo image jails (or those depending on them), use the \fIstartcrypto\fR parameter.

The script examines its config, attaches and mounts images, and sets
variables for each jail in the jail_list before passing its command on
to the \fB/etc/rc.d/jail\fR script.
.SH NOTES
.B ezjail.sh\fR enforces the execution of \fB/etc/rc.d/jail\fR, by
prepending \fI"one"\fR to the start, restart, and stop commands so it is
.B NOT NECESSARY\fR to set \fIjail_enable\fR in the \fB/etc/rc.conf\fR
config file.
.SH FILES
EZJAIL_PREFIX/etc/ezjail.conf
.br
EZJAIL_PREFIX/etc/rc.d/ezjail.sh
.SH "SEE ALSO"
ezjail-admin(1), ezjail.conf(5), jail(8), mount_nullfs(8)
.SH AUTHOR
Dirk Engling <erdgeist@erdgeist.org>
